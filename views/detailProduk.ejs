<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('./partials/head') %>
  <title>GoRent | Home</title>
</head>

<style>
  .product-image {
    width: 100%;
    max-width: 500px;
    height: auto;
    cursor: pointer;
    transition: opacity 0.3s;
  }

  .product-image:hover {
    opacity: 0.9;
  }

  .modal-fullscreen .modal-content {
    background-color: rgba(0, 0, 0, 0.9);
    border: none;
  }

  .modal-fullscreen img {
    max-height: 90vh;
    width: auto;
    max-width: 100%;
    margin: auto;
  }

  .close-modal-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    color: white;
    font-size: 30px;
    z-index: 1050;
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px 10px;
  }

  .close-modal-btn:hover {
    color: #ccc;
  }
</style>

<body>

  <!-- topbar start -->
  <div class="d-none d-md-inline">
    <%- include('./partials/topbar') %>
  </div>
  <!-- topbar end -->

  <div class="container-fluid p-0">
    <!-- Product Detail Section -->
    <div class="position-relative image-container ratio ratio-1x1 bg-black">
      <a href="/" class="rounded-5 btn-back-circle z-3">
        <i class="bi bi-arrow-left"></i>
      </a>
      <img src=<%= product.image %> class="img-fluid object-fit-contain" alt=<%= product.name %> data-bs-toggle="modal" data-bs-target="#imageModal">
    </div>
    <div class="container mt-4 pb-5 mb-5">
      <div class="d-flex justify-content-between align-items-center">
        <h5 class="fw-semibold fs-3"><%= product.name %></h5>
        <div class="rating fs-3">
          4.5 ⭐
        </div>
      </div>

      <p class="detail-desc">
        <%= product.description %>
      </p>

      <!-- detail produk section -->
      <h3 class="fw-semibold fs-5 mb-4">Detail Produk</h3>
      <div class="d-flex flex-column gap-3">
        <div class="border-1 border-bottom d-flex justify-content-between w-100">
          <h6>Kondisi</h6>
          <p class="fw-semibold"><%= product.condition %></p>
        </div>
        <div class="border-1 border-bottom d-flex justify-content-between w-100">
          <h6>Harga per hari</h6>
          <p class="fw-semibold">Rp<%= product.pricePerDay.toLocaleString() %>/hari</p>
        </div>
        <div class="border-1 border-bottom d-flex justify-content-between w-100">
          <h6>Tersedia</h6>
          <p class="fw-semibold"><%= product.stock %></p>
        </div>
      </div>


      <!-- Reviews Section -->
      <h3 class="fw-semibold fs-5 mb-4 mt-4">Review</h3>
      <div class="d-flex flex-column gap-3 align-items-center">
        <div class="review-card d-flex gap-3 justify-content-center">
          <div class="d-flex flex-column">
            <div class="rating">⭐</div>
            <p class="rating fw-bold">4.5</p>
          </div>
          <div class="d-flex flex-column gap-1">
            <div class="d-flex justify-content-between align-items-center">
              <strong class="">Sulthon</strong>
              <small class="text-muted">Aug 9, 2024</small>
            </div>
            <p class="mb-0 mt-2">Ringan dan nyaman dibawa. Performa baik, meski layar agak reflektif di luar ruangan. Overall memuaskan!</p>
          </div>
        </div>

        <div class="review-card d-flex gap-3 justify-content-center">
          <div class="d-flex flex-column">
            <div class="rating">⭐</div>
            <p class="rating fw-bold">4.5</p>
          </div>
          <div class="d-flex flex-column gap-1">
            <div class="d-flex justify-content-between align-items-center">
              <strong class="">Fahris</strong>
              <small class="text-muted">Aug 9, 2024</small>
            </div>
            <p class="mb-0 mt-2">Saya suka desain ramping dan ringan Yoga 7, nyaman dibawa ke mana saja. Performa juga cukup cepat untuk pekerjaan kantor dan browsing. Namun, saya merasa layarnya agak reflektif saat digunakan di luar ruangan, tapi overall sangat bagus!</p>
          </div>
        </div>
      </div>

      <div class="text-center w-100 mb-5 mt-2">
        <a href="#" class="text-primary">+25 Lihat review</a>
      </div>
    </div>

    <!-- Fixed Bottom Button -->
    <div class="fixed-bottom bg-white border-top p-3">
      <div class="container d-flex justify-content-between align-items-center">
        <div>
          <h6 class="mb-0 fw-bold fs-5"><%= product.name %></h6>
          <p class="mb-0 fs-6 fw-semibold">Rp<%= product.pricePerDay.toLocaleString() %>/hari</p>
        </div>
        <button class="btn btn-primary">Sewa Produk</button>
      </div>
    </div>
  </div>

  <!-- Fullscreen Image Modal -->
  <div class="modal modal-fullscreen fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <button type="button" class="close-modal-btn" data-bs-dismiss="modal" aria-label="Close">×</button>
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-body d-flex align-items-center justify-content-center">
          <img src=<%= product.image %> alt=<%= product.name %> class="img-fluid">
        </div>
      </div>
    </div>
  </div>

  <%- include('./partials/script.ejs') %>
</body>

</html>